<!DOCTYPE html>
<html>
<head>
    <title>Firebase Test</title>
</head>
<body>
    <h1>Firebase Connection Test</h1>
    <div id="status">Testing...</div>
    <input type="text" id="testInput" placeholder="Type something to test sync">
    <div id="output"></div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js'
        import { getDatabase, ref, set, onValue } from 'https://www.gstatic.com/firebasejs/11.0.2/firebase-database.js'
        
        const firebaseConfig = {
            apiKey: "AIzaSyBmnlBT4k9QZ-l8g3O3Bwg_8U1lmHnGqoI",
            authDomain: "weddingtranslation-467908.firebaseapp.com",
            projectId: "weddingtranslation-467908",
            storageBucket: "weddingtranslation-467908.firebasestorage.app",
            appId: "1:1033398067766:web:58c4ba8a3b7b0ff89b64c8",
            databaseURL: "https://weddingtranslation-467908-default-rtdb.firebaseio.com/"
        };

        try {
            const app = initializeApp(firebaseConfig);
            const database = getDatabase(app);
            const testRef = ref(database, 'test');
            
            document.getElementById('status').textContent = 'Firebase initialized successfully!';
            
            // Listen for changes
            onValue(testRef, (snapshot) => {
                const data = snapshot.val();
                document.getElementById('output').textContent = 'Received: ' + (data || 'No data');
            });
            
            // Send data when typing
            document.getElementById('testInput').addEventListener('input', (e) => {
                set(testRef, e.target.value);
            });
            
        } catch (error) {
            document.getElementById('status').textContent = 'Firebase error: ' + error.message;
            console.error('Firebase error:', error);
        }
    </script>
</body>
</html>